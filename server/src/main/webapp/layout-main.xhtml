<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns="http://www.w3.org/1999/xhtml">
<f:view>
    <h:head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>KNOT app</title>
        <h:outputStylesheet name="css/style.css" />
        <h:outputScript name="js/common.js" />
    </h:head>
    <h:body>
    <h:outputStylesheet />
        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
           <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
           <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
       </p:confirmDialog>
        <p:tabMenu activeIndex="#{activeIndex}">
            <p:menuitem value="Dashboard" outcome="dashboard" icon="fa fa-fw fa-tachometer" />
            <p:menuitem value="Projects" outcome="project-list" icon="fa fa-fw fa-stack-overflow" />
            <p:menuitem value="Tasks" outcome="task-list" icon="fa fa-fw fa-tasks" />
            <p:menuitem value="Nodes" outcome="node-list" icon="fa fa-fw fa-desktop" />
            <p:menuitem value="Users" rendered="${request.isUserInRole('ROLE_ADMIN')}" outcome="user-list" icon="fa fa-fw fa-users" />
            <p:menuitem value="Logout" outcome="dashboard" onclick="window.open('/logout','_self'); return false" icon="fa fa-fw fa-sign-out" containerStyleClass="fright" />
            <p:menuitem value="Logged in as #{mainController.loggedUser.login}" outcome="user-settings" icon="fa fa-fw fa-user" containerStyleClass="fright" />
        </p:tabMenu>
        
        <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
        <ui:insert name="content" />
        
        <footer class="ui-widget">
            ©<h:outputText value="#{mainController.year}" /> FIT, Brno University of Technology. All rights resereved. Created by Jiří Bašta, David Kozák, Pavel Hodoval, Tomáš Jínek.
        </footer>
    </h:body>
</f:view>
</html>